@using MudBlazor
@using Finance.Mobile.Services
@inject AccountSelectionState AccountState

<MudNavMenu>
    <MudNavLink Href="/" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Home">Home</MudNavLink>
    <MudNavLink Href="/transactions" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.List">Lan√ßamentos</MudNavLink>
    <MudNavLink Href="/categories" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Category">Categorias</MudNavLink>
    <MudNavLink Href="/accounts" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.AccountBalanceWallet">Contas</MudNavLink>
</MudNavMenu>

@code {
    private string GetAccountDisplayName(int? accountId)
    {
        if (!accountId.HasValue)
            return string.Empty;

        return AccountState.Accounts.FirstOrDefault(a => a.Id == accountId.Value)?.Name ?? string.Empty;
    }

    private Task OnAccountChanged(int? accountId)
    {
        AccountState.SetSelectedAccount(accountId);
        return Task.CompletedTask;
    }
}
