<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <title>Finance App</title>
    <base href="/" />
    <link href="_content/MudBlazor/MudBlazor.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="app.css" />
    <link rel="icon" href="data:,">
</head>
<body>
    <div class="status-bar-safe-area"></div>
    <div id="app">
        <div class="startup-loader" role="status" aria-live="polite" aria-label="Inicializando aplicativo de finanÃ§as">
            <div class="startup-loader-card">
                <p class="startup-loader-title">Finance App</p>
                <div class="finance-bars" aria-hidden="true">
                    <div class="finance-bar" style="height: 34%;"></div>
                    <div class="finance-bar" style="height: 58%;"></div>
                    <div class="finance-bar" style="height: 82%;"></div>
                    <div class="finance-bar" style="height: 68%;"></div>
                </div>
                <div class="finance-line" aria-hidden="true"></div>
                <p class="startup-loader-subtitle">Organizando seus lanÃ§amentos...</p>
            </div>
        </div>
    </div>
    <div id="blazor-error-ui" data-nosnippet>
        An unhandled error has occurred.
        <a href="." class="reload">Reload</a>
        <span class="dismiss">ðŸ—™</span>
    </div>
    <!-- Para BlazorWebView (MAUI), o host chama Blazor.start().
         Por isso o autostart deve ser false. -->
    <script src="_framework/blazor.webview.js" autostart="false"></script>
    <script src="_content/MudBlazor/MudBlazor.min.js"></script>
    <script>
        (function () {
            function showError(msg) {
                try {
                    var el = document.getElementById('blazor-error-ui');
                    if (!el) return;
                    el.style.display = 'block';
                    el.textContent = msg;
                } catch (e) {
                    console.error(e);
                }
            }

            window.addEventListener('error', function (e) {
                var message = (e && e.message) ? e.message : String(e);
                var stack = (e && e.error && e.error.stack) ? '\n' + e.error.stack : '';
                showError('Error: ' + message + stack);
                console.error(e.error || e);
            });

            window.addEventListener('unhandledrejection', function (e) {
                var reason = e && e.reason ? e.reason : e;
                var message = (reason && reason.message) ? reason.message : JSON.stringify(reason);
                var stack = (reason && reason.stack) ? '\n' + reason.stack : '';
                showError('Unhandled Promise Rejection: ' + message + stack);
                console.error(e);
            });

            // Also expose a helper for .NET to write errors explicitly
            window.__showBlazorError = showError;
        })();
    </script>
</body>
</html>
